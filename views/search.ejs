<div class="pt-4">
<%- include('partials/search_bar.ejs') %>
</div>

<div class="text-xl ml-4">
    showing results for <span class="font-bold"><%= searchTerm %></span></span>
</div>

<section class="py-10 sm:px-10 px-3">
  <% if (data.length > 0) { %>
    <ul class="posts_container">
      <% data.forEach(post => { %>
       <li class="post">
        <a href="/post/<%= post._id %>">
          <div class="relative">
            <img src="/img/Post_Thumbnails/<%= post.image_address %>" alt="<%= post.image_address %>" class="post_image"/>
            <div class="post_description_container">
              <div class="post_description">
                <%= post.description %>
            </div>
            </div>
          </div>
        </a>
        <div class="px-2 pb-2">
        <a href="/post/<%= post._id %>"><h4 class="text-xl font-merri font-bold"><%= post.title %></h4></a>
        <div class="flex gap-4 my-2">
          <% post.tags.forEach(tag => { %>
            <span><a class="post_tag" href="/search/<%= tag %>"><%= tag %></a></span>
          <% }) %>
        </div>
        
        <span class="font-semibold"><%= post.createdAt.toLocaleDateString('en-us', { weekday:"long", year:"numeric", month:"short", day:"numeric"}) %></span>
        <a href="/post/<%= post._id %>"><span class="read-more">Read More >></span></a>
      </div>
      </li>
      <% }) %>
    </ul>
  <% } else {%>
    <div class="text-xl ml-4 mt-3 font-semibold"><span> No search results for <span class="font-bold"><%= searchTerm %></span></span></div>
    <% } %>
</section>

<!-- <ul>


      <% data.forEach(post => { %>
  
  
      <li>
        <a href="/post/<%= post._id %>">
          <span><%= post.title %></span>
          <span><%= post.createdAt.toDateString() %></span>
        </a>
      </li>
  
  
      <% }) %>
    </ul> -->